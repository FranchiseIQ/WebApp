<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta name="description" content="FranResearch - Research-grade franchise market analysis. Transparent methodology linking brand-level market signals with location-level competitive dynamics.">
    <meta name="keywords" content="franchise stocks, stock ticker, stock charts, franchise analysis, real-time stocks, MCD, YUM, MAR, HLT">
    <meta name="author" content="FranResearch">
    <meta name="robots" content="index, follow">

    <!-- Security Headers -->
    <meta http-equiv="X-Content-Type-Options" content="nosniff">
    <meta http-equiv="X-XSS-Protection" content="1; mode=block">
    <meta name="referrer" content="strict-origin-when-cross-origin">

    <title>FranResearch - Franchise Stock Analysis Platform</title>
    <link rel="icon" href="logo.svg" type="image/svg+xml">

    <!-- Design System -->
    <link rel="stylesheet" href="assets/css/global.css">
    <!-- Layout System -->
    <link rel="stylesheet" href="assets/css/layout.css">
    <!-- Page-specific styles -->
    <link rel="stylesheet" href="assets/css/pages/home.css">
    <!-- Ticker Widget Styles -->
    <link rel="stylesheet" href="Website/style.css">
    <!-- News Widget Styles -->
    <link rel="stylesheet" href="FranchiseNews/news-widget.css">
</head>
<body class="has-fixed-ticker has-fixed-nav">

    <!-- Skip link for accessibility -->
    <a href="#main-content" class="skip-link">Skip to main content</a>

    <div class="page-wrapper">
        <!-- =================================================================
             LIVE STOCK TICKER - Fixed at top, always visible
             Structure: #closing-message, #status-bar, #ticker-container
             ================================================================= -->
        <div class="ticker-wrapper-global">
            <div id="closing-message" style="display: none; background: #ff9800; color: white; text-align: center; padding: 8px; font-weight: 600; font-size: 14px;">
                Showing Closing Prices
            </div>
            <div id="status-bar">
                <div id="clock-section">
                    <span id="clock">--:--:-- --</span>
                    <span id="timezone">ET</span>
                </div>
                <div id="market-status-section">
                    <span id="market-indicator" class="closed"></span>
                    <span id="market-label">Market Closed</span>
                </div>
                <div id="last-updated-section" style="display: flex; align-items: center; gap: 6px;">
                    <span style="font-size: 12px; color: #999;">Updated:</span>
                    <span id="last-updated" style="font-weight: 600; font-size: 13px; color: #667eea;">--:--</span>
                </div>
                <div id="refresh-section">
                    <span id="refresh-label">Next:</span>
                    <span id="countdown">60:00</span>
                </div>
            </div>
            <div id="ticker-container">
                <div id="ticker-content"></div>
            </div>
        </div>

        <!-- =================================================================
             NAVIGATION - Fixed below ticker, Hick's Law: 7 primary items max
             ================================================================= -->
        <nav class="site-nav below-ticker" role="navigation" aria-label="Main navigation">
            <a href="index.html" class="nav-brand">
                <img src="logo.svg" alt="FranResearch" width="32" height="32">
                <span>FranResearch</span>
            </a>
            <div class="nav-links">
                <a href="StockChart/chart.html" class="nav-link">Charts</a>
                <a href="FranchiseMap/map.html" class="nav-link">Map</a>
                <a href="FranchiseNews/news-feed.html" class="nav-link">News</a>
                <a href="sports.html" class="nav-link">Sports</a>
                <a href="franchise_calculators_module/index.html" class="nav-link">Calculators</a>
                <a href="about.html" class="nav-link">About</a>
            </div>
        </nav>

        <!-- =================================================================
             MAIN CONTENT
             ================================================================= -->
        <main id="main-content">
            <!-- HERO SECTION -->
            <section class="hero-section">
                <div class="shell">
                    <span class="eyebrow">
                        <span>Transparent Methodology</span>
                    </span>
                    <h1>Market Dynamics from Brand Signals to Location Opportunity</h1>
                    <p class="hero-subtitle">
                        Make investment decisions before commitment. Analyze brand-level market signals,
                        competitive location dynamics, and operational metrics with transparent, non-black-box assumptions.
                        Built for sophisticated investors and analysts.
                    </p>
                    <div class="hero-cta-group">
                        <a href="evaluate/index.html" class="hero-cta hero-cta-primary">
                            <span>Evaluate a Franchise</span>
                            <span>‚Üí</span>
                        </a>
                        <a href="FranchiseMap/map.html" class="hero-cta hero-cta-secondary">
                            <span>Explore Locations</span>
                            <span>‚Üí</span>
                        </a>
                    </div>
                    <div class="hero-stats">
                        <div class="hero-stat">
                            <div class="hero-stat-value">Multi-Sector</div>
                            <div class="hero-stat-label">QSR, Hospitality, Fitness, Services</div>
                        </div>
                        <div class="hero-stat">
                            <div class="hero-stat-value">Dual Pipeline</div>
                            <div class="hero-stat-label">Historical CSV + Real-Time API</div>
                        </div>
                        <div class="hero-stat">
                            <div class="hero-stat-value">Transparent</div>
                            <div class="hero-stat-label">No Black Boxes, Open Assumptions</div>
                        </div>
                        <div class="hero-stat">
                            <div class="hero-stat-value">40+</div>
                            <div class="hero-stat-label">Publicly Traded Brands</div>
                        </div>
                        <div class="hero-stat">
                            <div class="hero-stat-value">22,000+</div>
                            <div class="hero-stat-label">Mapped Locations</div>
                        </div>
                        <div class="hero-stat">
                            <div class="hero-stat-value">10 Years</div>
                            <div class="hero-stat-label">Market Data</div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- EXPLORE TOOLS -->
            <section class="tools-section">
                <div class="shell">
                    <header class="section-header">
                        <h2>Research and Analysis Toolkit</h2>
                        <p>Tools for connecting brand-level signals with location-level opportunity assessment</p>
                    </header>
                    <div class="tools-grid">
                        <a href="StockChart/chart.html" class="tool-card">
                            <span class="tool-card-icon">üìà</span>
                            <h3 class="tool-card-title">Stock Charts</h3>
                            <p class="tool-card-desc">Analyze price trajectories with percent-change normalization. Compare multivariate brand performance and identify divergence patterns in fundamentally similar concepts.</p>
                            <span class="tool-card-action">Open Charts</span>
                        </a>
                        <a href="Website/ticker.html" class="tool-card">
                            <span class="tool-card-icon">üìä</span>
                            <h3 class="tool-card-title">Market Status Ticker</h3>
                            <p class="tool-card-desc">Real-time price feed with market hours indicator. Monitor intraday movement and understand when pricing data reflects current conditions versus closing prices.</p>
                            <span class="tool-card-action">View Ticker</span>
                        </a>
                        <a href="FranchiseMap/map.html" class="tool-card">
                            <span class="tool-card-icon">üó∫Ô∏è</span>
                            <h3 class="tool-card-title">Location Competitive Dynamics</h3>
                            <p class="tool-card-desc">Geographic analysis linking store-level competition, market saturation, and density patterns to brand-level performance signals. Identify opportunity gaps.</p>
                            <span class="tool-card-action">Open Map</span>
                        </a>
                        <a href="FranchiseNews/news-feed.html" class="tool-card">
                            <span class="tool-card-icon">üì∞</span>
                            <h3 class="tool-card-title">Event and Catalyst Analysis</h3>
                            <p class="tool-card-desc">Industry news and announcements providing operational context for price movements. Understand what fundamental changes drive market signals.</p>
                            <span class="tool-card-action">Read News</span>
                        </a>
                        <a href="sports.html" class="tool-card">
                            <span class="tool-card-icon">üèÜ</span>
                            <h3 class="tool-card-title">Sports Reference</h3>
                            <p class="tool-card-desc">Live scores and team data for major U.S. sports leagues. Supplementary context for market analysis.</p>
                            <span class="tool-card-action">View Scores</span>
                        </a>
                        <a href="franchise_calculators_module/index.html" class="tool-card">
                            <span class="tool-card-icon">üßÆ</span>
                            <h3 class="tool-card-title">Decision Models</h3>
                            <p class="tool-card-desc">Scenario analysis, payback modeling, and financial return calculations. Stress-test assumptions before committing capital.</p>
                            <span class="tool-card-action">Calculate</span>
                        </a>
                    </div>
                </div>
            </section>

            <!-- MAP PREVIEW -->
            <section class="preview-section">
                <div class="shell">
                    <div class="preview-card">
                        <header class="preview-header">
                            <div>
                                <h3>Market Geography and Saturation Analysis</h3>
                                <p>Understand competitive density and market maturity from location patterns</p>
                            </div>
                            <a href="FranchiseMap/map.html" class="preview-link" target="_blank">
                                Open Full Screen
                                <span>‚Üó</span>
                            </a>
                        </header>
                        <div class="preview-content">
                            <iframe
                                src="FranchiseMap/map.html?embed=true"
                                height="600"
                                loading="lazy"
                                title="Franchise Map Preview">
                            </iframe>
                        </div>
                    </div>
                </div>
            </section>

            <!-- STOCK CHART PREVIEW -->
            <section class="preview-section">
                <div class="shell">
                    <div class="preview-card">
                        <header class="preview-header">
                            <div>
                                <h3>Brand Performance Analysis</h3>
                                <p>Normalized comparison across franchise concepts and temporal analysis</p>
                            </div>
                            <a href="StockChart/chart.html" class="preview-link" target="_blank">
                                Open Full Screen
                                <span>‚Üó</span>
                            </a>
                        </header>
                        <div class="preview-content">
                            <iframe
                                src="widgets/stock-widget.html"
                                style="width: 100%; height: 1100px; border: none; border-radius: 12px; overflow: hidden;"
                                scrolling="no"
                                loading="lazy"
                                title="Interactive Stock Chart Widget">
                            </iframe>
                        </div>
                    </div>
                </div>
            </section>

            <!-- FEATURES -->
            <section class="features-section">
                <div class="shell">
                    <header class="section-header">
                        <h2>Research Rigor and Transparency</h2>
                        <p>Every assumption is visible. No proprietary models hiding decision logic.</p>
                    </header>
                    <div class="features-grid">
                        <div class="feature-item">
                            <h4>Normalized Comparison</h4>
                            <p>Percent-change views eliminate price-level noise and enable direct performance comparison across brands with different scales.</p>
                        </div>
                        <div class="feature-item">
                            <h4>Transparent Data Pipeline</h4>
                            <p>Historical data from verifiable sources. Real-time API inputs documented with lag and timing visibility.</p>
                        </div>
                        <div class="feature-item">
                            <h4>Temporal Anchors</h4>
                            <p>Year markers and time-period indicators provide context for events, earnings cycles, and market catalysts.</p>
                        </div>
                        <div class="feature-item">
                            <h4>Explicit Methodology</h4>
                            <p>No black boxes. Every calculation, assumption, and data choice documented for reproducibility and critique.</p>
                        </div>
                        <div class="feature-item">
                            <h4>Data Source Attribution</h4>
                            <p>Clear labeling of real-time versus end-of-day data, API versus historical sources, and timing assumptions.</p>
                        </div>
                        <div class="feature-item">
                            <h4>Assumption Transparency</h4>
                            <p>All modeling inputs, weights, and thresholds visible. Users understand which lever moves which metric.</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- NEWS PREVIEW -->
            <section class="preview-section">
                <div class="shell">
                    <div class="preview-card">
                        <header class="preview-header">
                            <div>
                                <h3>Industry Context and Catalysts</h3>
                                <p>Track operational and strategic announcements that drive market signals</p>
                            </div>
                            <a href="FranchiseNews/news-feed.html" class="preview-link" target="_blank">
                                View All News
                                <span>‚Üó</span>
                            </a>
                        </header>
                        <div class="preview-content" style="padding: 24px;">
                            <div id="news-preview-container"></div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- EMBED INSTRUCTIONS -->
            <section class="embed-section">
                <div class="shell">
                    <div class="embed-card">
                        <button class="embed-toggle" onclick="toggleEmbed()" aria-expanded="false">
                            <span>Embed Widgets on Your Site</span>
                            <span class="embed-toggle-icon">‚ñº</span>
                        </button>
                        <div class="embed-content" id="embedContent">
                            <div class="embed-item">
                                <h4>Live Stock Ticker</h4>
                                <div class="code-block">&lt;iframe src="https://monroegamble.github.io/WebApp/Website/ticker.html"
    width="100%" height="120" frameborder="0"&gt;&lt;/iframe&gt;</div>
                            </div>
                            <div class="embed-item">
                                <h4>Interactive Charts</h4>
                                <div class="code-block">&lt;iframe src="https://monroegamble.github.io/WebApp/widgets/stock-widget.html"
    width="100%" height="600" frameborder="0"&gt;&lt;/iframe&gt;</div>
                            </div>
                            <div class="embed-item">
                                <h4>Franchise Map</h4>
                                <div class="code-block">&lt;iframe src="https://monroegamble.github.io/WebApp/FranchiseMap/map.html"
    width="100%" height="600" frameborder="0"&gt;&lt;/iframe&gt;</div>
                            </div>
                            <div class="embed-item">
                                <h4>News Ticker</h4>
                                <div class="code-block">&lt;iframe src="https://monroegamble.github.io/WebApp/FranchiseNews/news-ticker.html"
    width="100%" height="120" frameborder="0"&gt;&lt;/iframe&gt;</div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </main>

        <!-- =================================================================
             FOOTER - Standard footer pattern (Jakob's Law)
             ================================================================= -->
        <footer class="site-footer">
            <div class="shell">
                <div class="footer-grid">
                    <div class="footer-section">
                        <h4>Tools</h4>
                        <ul>
                            <li><a href="StockChart/chart.html">Stock Charts</a></li>
                            <li><a href="Website/ticker.html">Live Ticker</a></li>
                            <li><a href="FranchiseMap/map.html">Franchise Map</a></li>
                            <li><a href="FranchiseNews/news-feed.html">News Feed</a></li>
                        </ul>
                    </div>
                    <div class="footer-section">
                        <h4>Resources</h4>
                        <ul>
                            <li><a href="sports.html">Sports Dashboard</a></li>
                            <li><a href="franchise_calculators_module/index.html">Calculators</a></li>
                            <li><a href="docs/setup.md">Documentation</a></li>
                        </ul>
                    </div>
                    <div class="footer-section">
                        <h4>About</h4>
                        <ul>
                            <li><a href="about.html">About Us</a></li>
                            <li><a href="https://github.com/MonroeGamble/WebApp" target="_blank">GitHub</a></li>
                        </ul>
                    </div>
                    <div class="footer-section">
                        <h4>Data Provenance</h4>
                        <p>Real-time quotes: Finnhub API. Historical baseline: verified public records. News: trade publications and financial portals. All sources documented and auditable.</p>
                    </div>
                </div>
                <div class="footer-bottom">
                    &copy; 2024 FranResearch. All rights reserved.
                </div>
            </div>
        </footer>
    </div>

    <!-- Fixed Bottom News Ticker -->
    <div id="news-ticker-bottom" class="news-ticker-fixed"></div>

    <!-- =================================================================
         SCRIPTS - Shared utilities and page-specific scripts
         ================================================================= -->
    <!-- Shared Utilities (optional - loaded when needed) -->
    <script src="src/js/config/app.config.js"></script>
    <script src="src/js/utils/formatters.js"></script>
    <script src="src/js/utils/dom.js"></script>
    <script src="src/js/utils/storage.js"></script>
    <script src="src/js/utils/market.js"></script>
    <script src="src/js/api/dataService.js"></script>
    <script src="src/js/utils/index.js"></script>

    <!-- Page Scripts -->
    <script src="Website/ticker.js"></script>
    <script src="FranchiseNews/newsService.js"></script>
    <script src="FranchiseNews/news-widget.js"></script>
    <script>
        // Toggle embed section
        function toggleEmbed() {
            const btn = document.querySelector('.embed-toggle');
            const content = document.getElementById('embedContent');
            const isExpanded = btn.getAttribute('aria-expanded') === 'true';

            btn.setAttribute('aria-expanded', !isExpanded);
            btn.classList.toggle('active');
            content.classList.toggle('show');
        }

        // Initialize widgets
        document.addEventListener('DOMContentLoaded', async () => {
            try {
                // Bottom news ticker
                if (window.FranchiseNewsWidget) {
                    await window.FranchiseNewsWidget.initTicker({
                        mountSelector: '#news-ticker-bottom',
                        categories: [
                            window.NEWS_CATEGORIES.TRADE_PRESS,
                            window.NEWS_CATEGORIES.BIG_PORTALS
                        ],
                        tickerSpeed: 90,
                        pauseOnHover: true,
                        showLabel: true,
                        labelText: 'Franchise News',
                        labelIcon: ''
                    });

                    // News preview on homepage
                    await window.FranchiseNewsWidget.initVerticalScroller({
                        mountSelector: '#news-preview-container',
                        categories: [
                            window.NEWS_CATEGORIES.TRADE_PRESS,
                            window.NEWS_CATEGORIES.BIG_PORTALS
                        ],
                        maxItems: 8,
                        scrollSpeed: 60,
                        pauseOnHover: true,
                        showHeader: false,
                        showDate: true
                    });
                }
            } catch (error) {
                console.error('Failed to initialize widgets:', error);
            }
        });
    </script>
</body>
</html>
