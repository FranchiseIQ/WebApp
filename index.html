<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta name="description" content="FranResearch - Real-time stock analysis platform for franchise companies. Track 40+ stocks with live ticker, interactive charts, and 10 years of historical data.">
    <meta name="keywords" content="franchise stocks, stock ticker, stock charts, franchise analysis, real-time stocks, MCD, YUM, MAR, HLT">
    <meta name="author" content="FranResearch">
    <meta name="robots" content="index, follow">

    <!-- Security Headers -->
    <meta http-equiv="X-Content-Type-Options" content="nosniff">
    <meta http-equiv="X-XSS-Protection" content="1; mode=block">
    <meta name="referrer" content="strict-origin-when-cross-origin">

    <title>FranResearch - Franchise Stock Analysis Platform</title>

    <!-- Design System -->
    <link rel="stylesheet" href="assets/css/global.css">
    <!-- Layout System -->
    <link rel="stylesheet" href="assets/css/layout.css">
    <!-- Page-specific styles -->
    <link rel="stylesheet" href="assets/css/pages/home.css">
    <!-- Ticker Widget Styles -->
    <link rel="stylesheet" href="Website/style.css">
    <!-- News Widget Styles -->
    <link rel="stylesheet" href="FranchiseNews/news-widget.css">
</head>
<body class="has-fixed-ticker has-fixed-nav">
    <!-- Skip link for accessibility -->
    <a href="#main-content" class="skip-link">Skip to main content</a>

    <div class="page-wrapper">
        <!-- =================================================================
             LIVE STOCK TICKER - Fixed at top, always visible
             Structure: #closing-message, #status-bar, #ticker-container
             ================================================================= -->
        <div class="ticker-wrapper-global">
            <div id="closing-message" style="display: none; background: #ff9800; color: white; text-align: center; padding: 8px; font-weight: 600; font-size: 14px;">
                Showing Closing Prices
            </div>
            <div id="status-bar">
                <div id="clock-section">
                    <span id="clock">--:--:-- --</span>
                    <span id="timezone">ET</span>
                </div>
                <div id="market-status-section">
                    <span id="market-indicator" class="closed"></span>
                    <span id="market-label">Market Closed</span>
                </div>
                <div id="last-updated-section" style="display: flex; align-items: center; gap: 6px;">
                    <span style="font-size: 12px; color: #999;">Updated:</span>
                    <span id="last-updated" style="font-weight: 600; font-size: 13px; color: #667eea;">--:--</span>
                </div>
                <div id="refresh-section">
                    <span id="refresh-label">Next:</span>
                    <span id="countdown">60:00</span>
                </div>
            </div>
            <div id="ticker-container">
                <div id="ticker-content"></div>
            </div>
        </div>

        <!-- =================================================================
             NAVIGATION - Fixed below ticker, Hick's Law: 7 primary items max
             ================================================================= -->
        <nav class="site-nav below-ticker" role="navigation" aria-label="Main navigation">
            <a href="index.html" class="nav-brand">
                <img src="logo.svg" alt="FranResearch" width="32" height="32">
                <span>FranResearch</span>
            </a>
            <div class="nav-links">
                <a href="StockChart/chart.html" class="nav-link">Charts</a>
                <a href="FranchiseMap/map.html" class="nav-link">Map</a>
                <a href="FranchiseNews/news-feed.html" class="nav-link">News</a>
                <a href="sports.html" class="nav-link">Sports</a>
                <a href="franchise_calculators_module/index.html" class="nav-link">Calculators</a>
                <a href="about.html" class="nav-link">About</a>
            </div>
        </nav>

        <!-- =================================================================
             MAIN CONTENT
             ================================================================= -->
        <main id="main-content">
            <!-- HERO SECTION -->
            <section class="hero-section">
                <div class="shell">
                    <span class="eyebrow">
                        <span>Real-time Data</span>
                    </span>
                    <h1>Stock Analysis for Franchise Companies</h1>
                    <p class="hero-subtitle">
                        Track 40+ franchise stocks with live pricing, interactive charts,
                        and 10 years of historical data. All client-side, no account required.
                    </p>
                    <a href="StockChart/chart.html" class="hero-cta">
                        <span>Explore Stock Charts</span>
                        <span>‚Üí</span>
                    </a>
                    <div class="hero-stats">
                        <div class="hero-stat">
                            <div class="hero-stat-value">41</div>
                            <div class="hero-stat-label">Stocks Tracked</div>
                        </div>
                        <div class="hero-stat">
                            <div class="hero-stat-value">10 Years</div>
                            <div class="hero-stat-label">Historical Data</div>
                        </div>
                        <div class="hero-stat">
                            <div class="hero-stat-value">100%</div>
                            <div class="hero-stat-label">Client-Side</div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- EXPLORE TOOLS -->
            <section class="tools-section">
                <div class="shell">
                    <header class="section-header">
                        <h2>Explore Analysis Tools</h2>
                        <p>Professional-grade tools for franchise stock research and analytics</p>
                    </header>
                    <div class="tools-grid">
                        <a href="StockChart/chart.html" class="tool-card">
                            <span class="tool-card-icon">üìà</span>
                            <h3 class="tool-card-title">Stock Charts</h3>
                            <p class="tool-card-desc">Compare up to 10 tickers with zoom, pan, and percent-change views. 10+ years of historical data.</p>
                            <span class="tool-card-action">Open Charts</span>
                        </a>
                        <a href="Website/ticker.html" class="tool-card">
                            <span class="tool-card-icon">üìä</span>
                            <h3 class="tool-card-title">Live Ticker</h3>
                            <p class="tool-card-desc">Real-time scrolling display of 40+ franchise stocks with price changes and market status.</p>
                            <span class="tool-card-action">View Ticker</span>
                        </a>
                        <a href="FranchiseMap/map.html" class="tool-card">
                            <span class="tool-card-icon">üó∫Ô∏è</span>
                            <h3 class="tool-card-title">Franchise Map</h3>
                            <p class="tool-card-desc">Geographic visualization of franchise locations with brand filtering and radius search.</p>
                            <span class="tool-card-action">Open Map</span>
                        </a>
                        <a href="FranchiseNews/news-feed.html" class="tool-card">
                            <span class="tool-card-icon">üì∞</span>
                            <h3 class="tool-card-title">News Feed</h3>
                            <p class="tool-card-desc">Curated industry news from leading franchise trade publications and business portals.</p>
                            <span class="tool-card-action">Read News</span>
                        </a>
                        <a href="sports.html" class="tool-card">
                            <span class="tool-card-icon">üèÜ</span>
                            <h3 class="tool-card-title">Sports Dashboard</h3>
                            <p class="tool-card-desc">Live scores and schedules for NFL, NBA, NHL, MLB, and MLS leagues.</p>
                            <span class="tool-card-action">View Scores</span>
                        </a>
                        <a href="franchise_calculators_module/index.html" class="tool-card">
                            <span class="tool-card-icon">üßÆ</span>
                            <h3 class="tool-card-title">Calculators</h3>
                            <p class="tool-card-desc">ROI calculators, loan amortization, payback period, and financial planning tools.</p>
                            <span class="tool-card-action">Calculate</span>
                        </a>
                    </div>
                </div>
            </section>

            <!-- STOCK CHART PREVIEW -->
            <section class="preview-section">
                <div class="shell">
                    <div class="preview-card">
                        <header class="preview-header">
                            <div>
                                <h3>Interactive Stock Charts</h3>
                                <p>Compare franchise stocks with 10+ years of historical data</p>
                            </div>
                            <a href="StockChart/chart.html" class="preview-link" target="_blank">
                                Open Full Screen
                                <span>‚Üó</span>
                            </a>
                        </header>
                        <div class="preview-content">
                            <iframe
                                src="widgets/stock-widget.html"
                                height="600"
                                loading="lazy"
                                title="Interactive Stock Chart Widget">
                            </iframe>
                        </div>
                    </div>
                </div>
            </section>

            <!-- MAP PREVIEW -->
            <section class="preview-section">
                <div class="shell">
                    <div class="preview-card">
                        <header class="preview-header">
                            <div>
                                <h3>Franchise Location Map</h3>
                                <p>Explore franchise locations across North America</p>
                            </div>
                            <a href="FranchiseMap/map.html" class="preview-link" target="_blank">
                                Open Full Screen
                                <span>‚Üó</span>
                            </a>
                        </header>
                        <div class="preview-content">
                            <iframe
                                src="FranchiseMap/map.html?embed=true"
                                height="500"
                                loading="lazy"
                                title="Franchise Map Preview">
                            </iframe>
                        </div>
                    </div>
                </div>
            </section>

            <!-- FEATURES -->
            <section class="features-section">
                <div class="shell">
                    <header class="section-header">
                        <h2>Platform Features</h2>
                        <p>Built for serious franchise stock analysis</p>
                    </header>
                    <div class="features-grid">
                        <div class="feature-item">
                            <h4>Relative Percent Charts</h4>
                            <p>Compare stocks regardless of price with automatic baseline recalculation on zoom/pan.</p>
                        </div>
                        <div class="feature-item">
                            <h4>CSV Data Storage</h4>
                            <p>10 years of historical data loads instantly from local CSV files.</p>
                        </div>
                        <div class="feature-item">
                            <h4>Market Status</h4>
                            <p>Live clock with green/orange/red indicators for market hours.</p>
                        </div>
                        <div class="feature-item">
                            <h4>Smart Updates</h4>
                            <p>Historical data from CSV + today's prices from API for accuracy.</p>
                        </div>
                        <div class="feature-item">
                            <h4>After-Hours Mode</h4>
                            <p>Shows closing prices when market is closed with clear indicators.</p>
                        </div>
                        <div class="feature-item">
                            <h4>Year Markers</h4>
                            <p>Toggle dashed lines at year boundaries for easy time navigation.</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- NEWS PREVIEW -->
            <section class="preview-section">
                <div class="shell">
                    <div class="preview-card">
                        <header class="preview-header">
                            <div>
                                <h3>Franchise News Feed</h3>
                                <p>Latest industry updates from leading sources</p>
                            </div>
                            <a href="FranchiseNews/news-feed.html" class="preview-link" target="_blank">
                                View All News
                                <span>‚Üó</span>
                            </a>
                        </header>
                        <div class="preview-content" style="padding: 24px;">
                            <div id="news-preview-container"></div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- EMBED INSTRUCTIONS -->
            <section class="embed-section">
                <div class="shell">
                    <div class="embed-card">
                        <button class="embed-toggle" onclick="toggleEmbed()" aria-expanded="false">
                            <span>Embed Widgets on Your Site</span>
                            <span class="embed-toggle-icon">‚ñº</span>
                        </button>
                        <div class="embed-content" id="embedContent">
                            <div class="embed-item">
                                <h4>Live Stock Ticker</h4>
                                <div class="code-block">&lt;iframe src="https://monroegamble.github.io/WebApp/Website/ticker.html"
    width="100%" height="120" frameborder="0"&gt;&lt;/iframe&gt;</div>
                            </div>
                            <div class="embed-item">
                                <h4>Interactive Charts</h4>
                                <div class="code-block">&lt;iframe src="https://monroegamble.github.io/WebApp/widgets/stock-widget.html"
    width="100%" height="600" frameborder="0"&gt;&lt;/iframe&gt;</div>
                            </div>
                            <div class="embed-item">
                                <h4>Franchise Map</h4>
                                <div class="code-block">&lt;iframe src="https://monroegamble.github.io/WebApp/FranchiseMap/map.html"
    width="100%" height="600" frameborder="0"&gt;&lt;/iframe&gt;</div>
                            </div>
                            <div class="embed-item">
                                <h4>News Ticker</h4>
                                <div class="code-block">&lt;iframe src="https://monroegamble.github.io/WebApp/FranchiseNews/news-ticker.html"
    width="100%" height="120" frameborder="0"&gt;&lt;/iframe&gt;</div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </main>

        <!-- =================================================================
             FOOTER - Standard footer pattern (Jakob's Law)
             ================================================================= -->
        <footer class="site-footer">
            <div class="shell">
                <div class="footer-grid">
                    <div class="footer-section">
                        <h4>Tools</h4>
                        <ul>
                            <li><a href="StockChart/chart.html">Stock Charts</a></li>
                            <li><a href="Website/ticker.html">Live Ticker</a></li>
                            <li><a href="FranchiseMap/map.html">Franchise Map</a></li>
                            <li><a href="FranchiseNews/news-feed.html">News Feed</a></li>
                        </ul>
                    </div>
                    <div class="footer-section">
                        <h4>Resources</h4>
                        <ul>
                            <li><a href="sports.html">Sports Dashboard</a></li>
                            <li><a href="franchise_calculators_module/index.html">Calculators</a></li>
                            <li><a href="docs/setup.md">Documentation</a></li>
                        </ul>
                    </div>
                    <div class="footer-section">
                        <h4>About</h4>
                        <ul>
                            <li><a href="about.html">About Us</a></li>
                            <li><a href="https://github.com/MonroeGamble/WebApp" target="_blank">GitHub</a></li>
                        </ul>
                    </div>
                    <div class="footer-section">
                        <h4>Data Sources</h4>
                        <p>Stock data via Finnhub API. Historical data updated daily. News aggregated from industry sources.</p>
                    </div>
                </div>
                <div class="footer-bottom">
                    &copy; 2024 FranResearch. All rights reserved.
                </div>
            </div>
        </footer>
    </div>

    <!-- Fixed Bottom News Ticker -->
    <div id="news-ticker-bottom" class="news-ticker-fixed"></div>

    <!-- =================================================================
         SCRIPTS - Shared utilities and page-specific scripts
         ================================================================= -->
    <!-- Shared Utilities (optional - loaded when needed) -->
    <script src="src/js/config/app.config.js"></script>
    <script src="src/js/utils/formatters.js"></script>
    <script src="src/js/utils/dom.js"></script>
    <script src="src/js/utils/storage.js"></script>
    <script src="src/js/utils/market.js"></script>
    <script src="src/js/api/dataService.js"></script>
    <script src="src/js/utils/index.js"></script>

    <!-- Page Scripts -->
    <script src="Website/ticker.js"></script>
    <script src="FranchiseNews/newsService.js"></script>
    <script src="FranchiseNews/news-widget.js"></script>
    <script>
        // Toggle embed section
        function toggleEmbed() {
            const btn = document.querySelector('.embed-toggle');
            const content = document.getElementById('embedContent');
            const isExpanded = btn.getAttribute('aria-expanded') === 'true';

            btn.setAttribute('aria-expanded', !isExpanded);
            btn.classList.toggle('active');
            content.classList.toggle('show');
        }

        // Initialize widgets
        document.addEventListener('DOMContentLoaded', async () => {
            try {
                // Bottom news ticker
                if (window.FranchiseNewsWidget) {
                    await window.FranchiseNewsWidget.initTicker({
                        mountSelector: '#news-ticker-bottom',
                        categories: [
                            window.NEWS_CATEGORIES.TRADE_PRESS,
                            window.NEWS_CATEGORIES.BIG_PORTALS
                        ],
                        tickerSpeed: 90,
                        pauseOnHover: true,
                        showLabel: true,
                        labelText: 'Franchise News',
                        labelIcon: ''
                    });

                    // News preview on homepage
                    await window.FranchiseNewsWidget.initVerticalScroller({
                        mountSelector: '#news-preview-container',
                        categories: [
                            window.NEWS_CATEGORIES.TRADE_PRESS,
                            window.NEWS_CATEGORIES.BIG_PORTALS
                        ],
                        maxItems: 8,
                        scrollSpeed: 60,
                        pauseOnHover: true,
                        showHeader: false,
                        showDate: true
                    });
                }
            } catch (error) {
                console.error('Failed to initialize widgets:', error);
            }
        });
    </script>
</body>
</html>
